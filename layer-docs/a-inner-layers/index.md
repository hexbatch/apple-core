# Core layer apps

# User environment

The api here sets up the environment for api calls that made for the user.

## Landing set and Home set and Wallet

### Landing
A user can create their landing set, that people can join to interact with the user's stuff, without having to be in the user's group.
This landing set is easily discoverable inheriting the landing type parent. Also, this is in the user data given back, if the landing set's permissions allow it to be read.

### Home
Each user is also given a home set. A user's home set is a type derived from the user element.

The default user session is from the home set, and the home set can store stuff not in the command pallet.

### User wallet

All the elements a user owns, that is not some file or action, is in a wallet, this can be organized
We create the wallet when user registered.
The wallet can be organized like other elements and sets


### Rate set

Each user gets one rate set to start out with. Elements for api access are set here

# Sessions

## Concept of Working set

The api allows the person to create sessions and change the set
In a session, this changes the set context the user looks through.
A user travels through the sets by joining and leaving sets.
When a user session changes the set, the working set is changed. Here, the user is using the user api to navigate through the sets.
The set context the api calls are made from, in all the layers, are made using a session.
This means for most of the other api calls made in the layers, the user's working set is the context they use.
And all the other layer api needs to refer to this, which will be set in the user-services for easy access.

When a user session changes to a new set:
The user's element is added to the set to use as a context, that way, the set can reject the user, or give a new element to the user (message, access, etc.)

A user can do an api call using a different set than his working set without leaving his working set.
Everything still works the same, but at the end of the api call, the user is still in his chosen working set


## Session list
A user can have different sessions at one time. A session can have three things:

* the working set
* a command pallet
* session data

The api here gives the ability to list and change sessions, and to do session stuff, such list the contents of a set, see his command pallet, and navigate sets

## Command pallet plugins

The command pallet is generated by action plugins, the user api here decides which plugins are used for which, or all, users

These commands are urls that can be called to do something
